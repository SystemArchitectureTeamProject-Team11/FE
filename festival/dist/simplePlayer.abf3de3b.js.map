{"version":3,"sources":["js/simplePlayer.js"],"names":["YTdeferred","jQuery","Deferred","window","onYouTubeIframeAPIReady","resolve","YT","$","ajaxSetup","cache","getScript","done","script","textStatus","fn","simplePlayer","video","play","id","hide","defaults","autoplay","autohide","border","wmode","enablejsapi","modestbranding","version","hl","rel","showinfo","hd","iv_load_policy","appendTo","fadeIn","onPlayerStateChange","event","data","PlayerState","ENDED","onPlayerReady","replay","document","getElementById","addEventListener","player","playVideo","bind","length","src","param","attr","width","height","seamless","css","children","Player","events","onStateChange","onReady"],"mappings":"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","file":"simplePlayer.abf3de3b.js","sourceRoot":"..","sourcesContent":["var YTdeferred = jQuery.Deferred();\n\nwindow.onYouTubeIframeAPIReady = function () {\n  YTdeferred.resolve(window.YT);\n};\n\n(function ($) {\n  $.ajaxSetup({\n    cache: true,\n  });\n\n  $.getScript(\"https://www.youtube.com/iframe_api\").done(function (\n    script,\n    textStatus\n  ) {});\n\n  $.fn.simplePlayer = function () {\n    var video = $(this);\n\n    var play = $(\"<div />\", { id: \"play\" }).hide();\n\n    var defaults = {\n      autoplay: 1,\n      autohide: 1,\n      border: 0,\n      wmode: \"opaque\",\n      enablejsapi: 1,\n      modestbranding: 1,\n      version: 3,\n      hl: \"en_US\",\n      rel: 0,\n      showinfo: 0,\n      hd: 1,\n      iv_load_policy: 3, // add origin\n    };\n\n    // onYouTubeIframeAPIReady\n\n    YTdeferred.done(function (YT) {\n      play.appendTo(video).fadeIn(\"slow\");\n    });\n\n    function onPlayerStateChange(event) {\n      if (event.data == YT.PlayerState.ENDED) {\n        play.fadeIn(500);\n      }\n    }\n\n    function onPlayerReady(event) {\n      var replay = document.getElementById(\"play\");\n      replay.addEventListener(\"click\", function () {\n        player.playVideo();\n      });\n    }\n\n    play.bind(\"click\", function () {\n      if (!$(\"#player\").length) {\n        $(\"<iframe />\", {\n          id: \"player\",\n          src:\n            \"https://www.youtube.com/embed/\" +\n            video.data(\"video\") +\n            \"?\" +\n            $.param(defaults),\n        })\n          .attr({\n            width: video.width(),\n            height: video.height(),\n            seamless: \"seamless\",\n          })\n          .css(\"border\", \"none\")\n          .appendTo(video);\n\n        video.children(\"img\").hide();\n\n        $(this)\n          .css(\n            \"background-image\",\n            \"url(play-button.png), url(\" + video.children().attr(\"src\") + \")\"\n          )\n          .hide();\n\n        player = new YT.Player(\"player\", {\n          events: {\n            onStateChange: onPlayerStateChange,\n            onReady: onPlayerReady,\n          },\n        });\n      }\n\n      $(this).hide();\n    });\n\n    return this;\n  };\n})(jQuery);\n"]}