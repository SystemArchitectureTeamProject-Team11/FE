{"version":3,"sources":["js/jquery.magnific-popup.js"],"names":["$","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","mfp","MagnificPopup","_isJQ","window","jQuery","_prevStatus","_window","_body","_document","_prevContentType","_wrapClasses","_currPopupType","_mfpOn","name","f","ev","on","_getEl","className","appendTo","html","raw","el","document","createElement","innerHTML","appendChild","_mfpTrigger","e","data","triggerHandler","st","callbacks","charAt","toLowerCase","slice","apply","isArray","_getCloseBtn","type","currTemplate","closeBtn","closeMarkup","replace","tClose","_checkInstance","magnificPopup","instance","init","supportsTransitions","s","style","v","undefined","length","pop","prototype","constructor","appVersion","navigator","isIE7","indexOf","isIE8","isLowIE","isAndroid","test","isIOS","supportsTransition","probablyMobile","userAgent","body","popupsCache","open","i","isObj","items","toArray","index","item","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","extend","defaults","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","attr","_checkIfClose","target","container","contentContainer","preloader","tLoading","modules","n","toUpperCase","call","closeBtnInside","append","template","values","close_replaceWith","alignTop","css","overflow","overflowY","overflowX","top","scrollTop","position","fixedBgPos","height","keyCode","updateSize","addClass","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","marginRight","classesToadd","mainClass","_addClassToMFP","add","prependTo","_lastFocusedEl","activeElement","setTimeout","content","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","detach","empty","_removeClassFromMFP","off","removeAttr","currItem","focus","prevHeight","winHeight","zoomLevel","documentElement","clientWidth","innerWidth","innerHeight","parseEl","markup","removeClass","newContent","appendContent","preloaded","prepend","find","tagName","src","hasClass","addGroup","options","eHandler","mfpEl","_openClick","eName","delegate","midClick","which","ctrlKey","metaKey","disableOn","isFunction","width","preventDefault","stopPropagation","updateStatus","status","text","stopImmediatePropagation","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","each","value","split","replaceWith","is","scrollbarSize","scrollDiv","id","cssText","offsetWidth","removeChild","proto","registerModule","module","push","fn","jqEl","itemOpts","parseInt","arguments","Array","INLINE_NS","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","parent","parentNode","inlineElement","AJAX_NS","_ajaxCur","_removeAjaxCursor","_destroyAjaxRequest","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","opts","url","success","textStatus","jqXHR","temp","xhr","finished","error","loadError","_imgInterval","_getTitle","title","image","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","img","decr","_onImageHasSize","hasSize","clearInterval","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","delay","setInterval","naturalWidth","getImage","guard","onLoadComplete","complete","loaded","onLoadError","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","enabled","easing","duration","opener","element","initZoom","zoomSt","zoom","getElToAnimate","newImg","transition","cssObj","zIndex","left","t","showMainContent","openTimeout","animatedImg","_allowZoom","clearTimeout","_getItemToZoom","_getOffset","remove","isLarge","offset","paddingTop","paddingBottom","obj","offsetHeight","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","substr","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","supportsFastClick","Boolean","mfpFastClick","direction","next","prev","l","arrowLeft","arrowRight","_preloadTimeout","preloadNearbyImages","destroyMfpFastClick","goTo","newIndex","p","preloadBefore","Math","min","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","retina","isNaN","ghostClickDelay","supportsTouch","unbindTouchMove","callback","elem","lock","timeout","startX","startY","pointerMoved","point","numPointers","originalEvent","touches","clientX","clientY","abs","Zepto"],"mappings":"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","file":"jquery.magnific-popup.f9b1a960.js","sourceRoot":"..","sourcesContent":["/*! Magnific Popup - v0.9.9 - 2013-11-15\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2013 Dmitry Semenov; */\n;(function($) {\n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_body,\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isIE7 = appVersion.indexOf(\"MSIE 7.\") !== -1; \n\t\tmfp.isIE8 = appVersion.indexOf(\"MSIE 8.\") !== -1;\n\t\tmfp.isLowIE = mfp.isIE7 || mfp.isIE8;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_body = $(document.body);\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( document.body );\n\n\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\t\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\t\t\n\t\tmfp.currItem = item;\n\n\t\t\n\n\t\t\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\t\t\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\t\t\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\t\t\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\n\t\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype = item.type;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} \n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\t\t\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\t\t\t\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( '<img src=\"'+value+'\" class=\"' + el.attr('class') + '\" />' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.id = \"mfp-sbm\";\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\t\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\t\t\t\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\t\t\t\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {   \n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\t\t\n\t\tdisableOn: 0,\t\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\t\t\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true, \n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\t\n\t\tremovalDelay: 0,\n\t\t\n\t\tfixedContentPos: 'auto', \n\t\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&times;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...'\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\t\t\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects \n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n\n//Quick benchmark\n/*\nvar start = performance.now(),\n\ti,\n\trounds = 1000;\n\nfor(i = 0; i < rounds; i++) {\n\n}\nconsole.log('Test #1:', performance.now() - start);\n\nstart = performance.now();\nfor(i = 0; i < rounds; i++) {\n\n}\nconsole.log('Test #2:', performance.now() - start);\n*/\n\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder, \n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t_body.removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur)\n\t\t\t\t_body.addClass(_ajaxCur);\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n\n\n\n\n\t\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined) \n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title', \n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t_body.addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t_body.removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\t\t\t\t\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\t\t\t\t\t\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\t\t\t\tif(item.img[0].naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t} \n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\t\t\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\t\t\t\t\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\t\t\t\t\t\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image); \n\t\t\t\t\t\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images \n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\t\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\t\t\t\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\t\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) { \n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com', \n\t\t\t\tid: 'v=', \n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t} \n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\t\t\t\t\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery',\n\t\t\t\tsupportsFastClick = Boolean($.fn.mfpFastClick);\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\t\t\t\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\t\t\t\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tvar eName = supportsFastClick ? 'mfpFastClick' : 'click';\n\t\t\t\t\tarrowLeft[eName](function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\t\t\t\n\t\t\t\t\tarrowRight[eName](function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\t\n\n\t\t\t\t\t// Polyfill for :before and :after (adds elements with classes mfp-a and mfp-b)\n\t\t\t\t\tif(mfp.isIE7) {\n\t\t\t\t\t\t_getEl('b', arrowLeft[0], false, true);\n\t\t\t\t\t\t_getEl('a', arrowLeft[0], false, true);\n\t\t\t\t\t\t_getEl('b', arrowRight[0], false, true);\n\t\t\t\t\t\t_getEl('a', arrowRight[0], false, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\t\t\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\n\t\t\t\tif(mfp.arrowLeft && supportsFastClick) {\n\t\t\t\t\tmfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick();\n\t\t\t\t}\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t}, \n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*\nTouch Support that might be implemented some day\n\naddSwipeGesture: function() {\n\tvar startX,\n\t\tmoved,\n\t\tmultipleTouches;\n\n\t\treturn;\n\n\tvar namespace = '.mfp',\n\t\taddEventNames = function(pref, down, move, up, cancel) {\n\t\t\tmfp._tStart = pref + down + namespace;\n\t\t\tmfp._tMove = pref + move + namespace;\n\t\t\tmfp._tEnd = pref + up + namespace;\n\t\t\tmfp._tCancel = pref + cancel + namespace;\n\t\t};\n\n\tif(window.navigator.msPointerEnabled) {\n\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t} else if('ontouchstart' in window) {\n\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t} else {\n\t\treturn;\n\t}\n\t_window.on(mfp._tStart, function(e) {\n\t\tvar oE = e.originalEvent;\n\t\tmultipleTouches = moved = false;\n\t\tstartX = oE.pageX || oE.changedTouches[0].pageX;\n\t}).on(mfp._tMove, function(e) {\n\t\tif(e.originalEvent.touches.length > 1) {\n\t\t\tmultipleTouches = e.originalEvent.touches.length;\n\t\t} else {\n\t\t\t//e.preventDefault();\n\t\t\tmoved = true;\n\t\t}\n\t}).on(mfp._tEnd + ' ' + mfp._tCancel, function(e) {\n\t\tif(moved && !multipleTouches) {\n\t\t\tvar oE = e.originalEvent,\n\t\t\t\tdiff = startX - (oE.pageX || oE.changedTouches[0].pageX);\n\n\t\t\tif(diff > 20) {\n\t\t\t\tmfp.next();\n\t\t\t} else if(diff < -20) {\n\t\t\t\tmfp.prev();\n\t\t\t}\n\t\t}\n\t});\n},\n*/\n\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n\n/*>>fastclick*/\n/**\n * FastClick event implementation. (removes 300ms delay on touch devices)\n * Based on https://developers.google.com/mobile/articles/fast_buttons\n *\n * You may use it outside the Magnific Popup by calling just:\n *\n * $('.your-el').mfpFastClick(function() {\n *     console.log('Clicked!');\n * });\n *\n * To unbind:\n * $('.your-el').destroyMfpFastClick();\n * \n * \n * Note that it's a very basic and simple implementation, it blocks ghost click on the same element where it was bound.\n * If you need something more advanced, use plugin by FT Labs https://github.com/ftlabs/fastclick\n * \n */\n\n(function() {\n\tvar ghostClickDelay = 1000,\n\t\tsupportsTouch = 'ontouchstart' in window,\n\t\tunbindTouchMove = function() {\n\t\t\t_window.off('touchmove'+ns+' touchend'+ns);\n\t\t},\n\t\teName = 'mfpFastClick',\n\t\tns = '.'+eName;\n\n\n\t// As Zepto.js doesn't have an easy way to add custom events (like jQuery), so we implement it in this way\n\t$.fn.mfpFastClick = function(callback) {\n\n\t\treturn $(this).each(function() {\n\n\t\t\tvar elem = $(this),\n\t\t\t\tlock;\n\n\t\t\tif( supportsTouch ) {\n\n\t\t\t\tvar timeout,\n\t\t\t\t\tstartX,\n\t\t\t\t\tstartY,\n\t\t\t\t\tpointerMoved,\n\t\t\t\t\tpoint,\n\t\t\t\t\tnumPointers;\n\n\t\t\t\telem.on('touchstart' + ns, function(e) {\n\t\t\t\t\tpointerMoved = false;\n\t\t\t\t\tnumPointers = 1;\n\n\t\t\t\t\tpoint = e.originalEvent ? e.originalEvent.touches[0] : e.touches[0];\n\t\t\t\t\tstartX = point.clientX;\n\t\t\t\t\tstartY = point.clientY;\n\n\t\t\t\t\t_window.on('touchmove'+ns, function(e) {\n\t\t\t\t\t\tpoint = e.originalEvent ? e.originalEvent.touches : e.touches;\n\t\t\t\t\t\tnumPointers = point.length;\n\t\t\t\t\t\tpoint = point[0];\n\t\t\t\t\t\tif (Math.abs(point.clientX - startX) > 10 ||\n\t\t\t\t\t\t\tMath.abs(point.clientY - startY) > 10) {\n\t\t\t\t\t\t\tpointerMoved = true;\n\t\t\t\t\t\t\tunbindTouchMove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).on('touchend'+ns, function(e) {\n\t\t\t\t\t\tunbindTouchMove();\n\t\t\t\t\t\tif(pointerMoved || numPointers > 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlock = true;\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\ttimeout = setTimeout(function() {\n\t\t\t\t\t\t\tlock = false;\n\t\t\t\t\t\t}, ghostClickDelay);\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\telem.on('click' + ns, function() {\n\t\t\t\tif(!lock) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t$.fn.destroyMfpFastClick = function() {\n\t\t$(this).off('touchstart' + ns + ' click' + ns);\n\t\tif(supportsTouch) _window.off('touchmove'+ns+' touchend'+ns);\n\t};\n})();\n\n/*>>fastclick*/\n _checkInstance(); })(window.jQuery || window.Zepto);"]}